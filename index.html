<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conquistadores de Sue√±os - Gesti√≥n</title>
    
    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel para traducir JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fuente Inter (Estilo Calculadora) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Animaciones suaves */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-down { animation: slideDown 0.3s ease-out forwards; }

        /* Scrollbar oculta para elementos horizontales */
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS SVG (Reemplazo de lucide-react para un solo archivo) ---
        const Icons = {
            Users: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            Wallet: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/></svg>,
            LayoutDashboard: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>,
            LogOut: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>,
            PlusCircle: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>,
            Search: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            TrendingUp: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>,
            TrendingDown: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 17 13.5 8.5 8.5 13.5 2 7"/><polyline points="16 17 22 17 22 11"/></svg>,
            Menu: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            X: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>,
            Calendar: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            ChevronRight: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>,
            Lock: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            Download: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
        };

        // --- COMPONENTES UI REUTILIZABLES ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-2xl shadow-sm border border-slate-200 p-6 ${className}`}>
                {children}
            </div>
        );

        const Badge = ({ children, color = "indigo" }) => {
            const colors = {
                indigo: "bg-indigo-50 text-indigo-700 border-indigo-100",
                emerald: "bg-emerald-50 text-emerald-700 border-emerald-100",
                amber: "bg-amber-50 text-amber-700 border-amber-100",
                slate: "bg-slate-100 text-slate-600 border-slate-200",
            };
            return (
                <span className={`px-2.5 py-1 rounded-lg text-xs font-bold border ${colors[color] || colors.indigo}`}>
                    {children}
                </span>
            );
        };

        const Button = ({ children, onClick, variant = "primary", className = "", icon: IconName }) => {
            const baseStyle = "flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-bold text-sm transition-all duration-200 active:scale-95";
            
            const variants = {
                primary: "bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200",
                secondary: "bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:text-slate-800",
                danger: "bg-red-50 text-red-600 border border-red-100 hover:bg-red-100",
                ghost: "text-slate-500 hover:bg-slate-800/50 hover:text-white",
                ghostLight: "text-slate-500 hover:bg-slate-100",
            };
            
            const Icon = IconName ? Icons[IconName] : null;

            return (
                <button onClick={onClick} className={`${baseStyle} ${variants[variant]} ${className}`}>
                    {Icon && <Icon width={18} height={18} />}
                    {children}
                </button>
            );
        };

        const Input = ({ label, ...props }) => (
            <div className="flex flex-col gap-1.5 mb-4">
                <label className="text-xs font-bold text-slate-500 uppercase tracking-wide">{label}</label>
                <input 
                    className="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:bg-white transition-all font-medium text-slate-700"
                    {...props}
                />
            </div>
        );

        const Select = ({ label, children, ...props }) => (
            <div className="flex flex-col gap-1.5 mb-4">
                <label className="text-xs font-bold text-slate-500 uppercase tracking-wide">{label}</label>
                <div className="relative">
                    <select 
                        className="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:bg-white transition-all font-medium text-slate-700 appearance-none"
                        {...props}
                    >
                        {children}
                    </select>
                    <div className="absolute right-4 top-3.5 pointer-events-none text-slate-400">
                        <Icons.ChevronRight width={16} className="rotate-90" />
                    </div>
                </div>
            </div>
        );

        // --- PANTALLAS ---

        const Dashboard = ({ members, finances }) => {
            const totalIncome = finances
                .filter(t => t.type === 'ingreso')
                .reduce((acc, curr) => acc + Number(curr.amount), 0);
                
            const totalExpense = finances
                .filter(t => t.type === 'gasto')
                .reduce((acc, curr) => acc + Number(curr.amount), 0);

            const balance = totalIncome - totalExpense;

            return (
                <div className="space-y-8 animate-fade-in">
                    <header className="flex justify-between items-end">
                        <div>
                            <h2 className="text-3xl font-extrabold text-slate-800 tracking-tight">Hola, Pastor üëã</h2>
                            <p className="text-slate-500 font-medium mt-1">Resumen general de la iglesia</p>
                        </div>
                        <div className="hidden md:block text-right">
                            <p className="text-xs font-bold text-slate-400 uppercase tracking-wider">Fecha</p>
                            <p className="text-xl font-bold text-slate-700">{new Date().toLocaleDateString()}</p>
                        </div>
                    </header>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 relative overflow-hidden group hover:scale-[1.02] transition-transform duration-300">
                            <div className="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-indigo-100 rounded-full opacity-50 group-hover:scale-110 transition-transform"></div>
                            <p className="text-slate-500 font-bold text-xs uppercase tracking-wider mb-2">Miembros Activos</p>
                            <div className="flex items-baseline gap-2">
                                <h3 className="text-4xl font-extrabold text-slate-800">{members.length}</h3>
                                <span className="text-sm font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded">+2 nuevos</span>
                            </div>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 relative overflow-hidden group hover:scale-[1.02] transition-transform duration-300">
                            <div className="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-emerald-100 rounded-full opacity-50 group-hover:scale-110 transition-transform"></div>
                            <p className="text-slate-500 font-bold text-xs uppercase tracking-wider mb-2">Tesorer√≠a (Balance)</p>
                            <div className="flex items-baseline">
                                <h3 className="text-4xl font-extrabold text-emerald-600">${balance.toLocaleString()}</h3>
                            </div>
                            <p className="text-xs text-slate-400 mt-2 font-medium">Disponible en caja chica</p>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 relative overflow-hidden group hover:scale-[1.02] transition-transform duration-300">
                            <div className="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-amber-100 rounded-full opacity-50 group-hover:scale-110 transition-transform"></div>
                            <p className="text-slate-500 font-bold text-xs uppercase tracking-wider mb-2">Pr√≥ximo Evento</p>
                            <h3 className="text-2xl font-bold text-slate-800 truncate">Noche de Adoraci√≥n</h3>
                            <div className="mt-3 flex items-center gap-2 text-sm font-bold text-amber-600">
                                <Icons.Calendar width={16} />
                                <span>S√°b 24, 19:00hs</span>
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                            <div className="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50">
                                <h3 className="font-bold text-slate-700 flex items-center gap-2">
                                    <Icons.TrendingUp className="text-indigo-500" width={20}/> Movimientos Recientes
                                </h3>
                                <Button variant="ghostLight" className="!px-3 !py-1 text-xs">Ver todo</Button>
                            </div>
                            <div className="divide-y divide-slate-100">
                                {finances.slice(0, 4).map(t => (
                                    <div key={t.id} className="p-4 hover:bg-slate-50 transition-colors flex justify-between items-center">
                                        <div className="flex items-center gap-4">
                                            <div className={`w-10 h-10 rounded-full flex items-center justify-center ${t.type === 'ingreso' ? 'bg-emerald-100 text-emerald-600' : 'bg-red-100 text-red-600'}`}>
                                                {t.type === 'ingreso' ? <Icons.TrendingUp width={18} /> : <Icons.TrendingDown width={18} />}
                                            </div>
                                            <div>
                                                <p className="font-bold text-slate-700 text-sm">{t.category}</p>
                                                <p className="text-xs text-slate-400 font-medium">{new Date(t.date).toLocaleDateString()}</p>
                                            </div>
                                        </div>
                                        <span className={`font-bold text-sm ${t.type === 'ingreso' ? 'text-emerald-600' : 'text-slate-600'}`}>
                                            {t.type === 'gasto' ? '-' : '+'}${Number(t.amount).toLocaleString()}
                                        </span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                           <div className="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50">
                                <h3 className="font-bold text-slate-700 flex items-center gap-2">
                                    <Icons.Users className="text-indigo-500" width={20}/> Nuevas Personas
                                </h3>
                                <Button variant="ghostLight" className="!px-3 !py-1 text-xs">Directorio</Button>
                            </div>
                            <div className="divide-y divide-slate-100">
                                {members.slice(0, 4).map(m => (
                                    <div key={m.id} className="p-4 hover:bg-slate-50 transition-colors flex justify-between items-center">
                                        <div className="flex items-center gap-3">
                                            <div className="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm border-2 border-white shadow-sm">
                                                {m.name.charAt(0)}
                                            </div>
                                            <div>
                                                <p className="font-bold text-slate-700 text-sm">{m.name}</p>
                                                <p className="text-xs text-slate-400 font-medium">{m.ministry || "General"}</p>
                                            </div>
                                        </div>
                                        <Badge color="slate">Activo</Badge>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const MembersModule = ({ members, setMembers }) => {
            const [showForm, setShowForm] = useState(false);
            const [searchTerm, setSearchTerm] = useState("");
            const [newMember, setNewMember] = useState({ name: '', phone: '', email: '', ministry: 'General' });

            const handleAdd = () => {
                if (!newMember.name) return;
                setMembers([{ id: Date.now(), ...newMember, joined: new Date() }, ...members]);
                setNewMember({ name: '', phone: '', email: '', ministry: 'General' });
                setShowForm(false);
            };

            const filteredMembers = members.filter(m => 
                m.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                m.ministry.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="space-y-6">
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h2 className="text-2xl font-bold text-slate-800">Directorio</h2>
                            <p className="text-slate-500 font-medium">Gesti√≥n de la comunidad</p>
                        </div>
                        <Button onClick={() => setShowForm(!showForm)} icon="PlusCircle">
                            Registrar Persona
                        </Button>
                    </div>

                    {showForm && (
                        <Card className="bg-slate-50 border-indigo-100 animate-slide-down">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="font-bold text-indigo-900 text-lg">Nueva Ficha de Miembro</h3>
                                <button onClick={() => setShowForm(false)} className="text-slate-400 hover:text-slate-600"><Icons.X width={20}/></button>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <Input 
                                    label="Nombre Completo" 
                                    placeholder="Ej. Juan P√©rez" 
                                    value={newMember.name}
                                    onChange={e => setNewMember({...newMember, name: e.target.value})}
                                />
                                <Input 
                                    label="Tel√©fono / WhatsApp" 
                                    placeholder="+54 ..." 
                                    value={newMember.phone}
                                    onChange={e => setNewMember({...newMember, phone: e.target.value})}
                                />
                                <Input 
                                    label="Correo Electr√≥nico" 
                                    placeholder="juan@email.com" 
                                    value={newMember.email}
                                    onChange={e => setNewMember({...newMember, email: e.target.value})}
                                />
                                <Select 
                                    label="Ministerio Asignado"
                                    value={newMember.ministry}
                                    onChange={e => setNewMember({...newMember, ministry: e.target.value})}
                                >
                                    <option value="General">Miembro General</option>
                                    <option value="Alabanza">Alabanza</option>
                                    <option value="Ujieres">Ujieres</option>
                                    <option value="Escuela Dominical">Escuela Dominical</option>
                                    <option value="Liderazgo">Liderazgo</option>
                                </Select>
                            </div>
                            <div className="flex gap-3 mt-6 border-t border-slate-200 pt-4 justify-end">
                                <Button variant="secondary" onClick={() => setShowForm(false)}>Cancelar</Button>
                                <Button onClick={handleAdd}>Guardar Ficha</Button>
                            </div>
                        </Card>
                    )}

                    <div className="relative group">
                        <div className="absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
                            <Icons.Search width={20} />
                        </div>
                        <input 
                            type="text" 
                            placeholder="Buscar por nombre, ministerio..." 
                            className="w-full pl-12 pr-4 py-3 rounded-2xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 bg-white shadow-sm transition-all"
                            value={searchTerm}
                            onChange={e => setSearchTerm(e.target.value)}
                        />
                    </div>

                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                        <table className="w-full text-left">
                            <thead className="bg-slate-50 border-b border-slate-100">
                                <tr>
                                    <th className="p-5 text-xs font-bold text-slate-500 uppercase tracking-wider">Nombre</th>
                                    <th className="p-5 text-xs font-bold text-slate-500 uppercase tracking-wider hidden md:table-cell">Contacto</th>
                                    <th className="p-5 text-xs font-bold text-slate-500 uppercase tracking-wider">Ministerio</th>
                                    <th className="p-5 text-xs font-bold text-slate-500 uppercase tracking-wider text-right">Acciones</th>
                                </tr>
                            </thead>
                            <tbody className="divide-y divide-slate-100">
                                {filteredMembers.map(m => (
                                    <tr key={m.id} className="hover:bg-slate-50 transition-colors group">
                                        <td className="p-5 font-bold text-slate-700 flex items-center gap-3">
                                            <div className="w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold">
                                                {m.name.charAt(0)}
                                            </div>
                                            {m.name}
                                        </td>
                                        <td className="p-5 text-slate-500 hidden md:table-cell font-medium text-sm">{m.phone}</td>
                                        <td className="p-5">
                                            <Badge color={m.ministry === 'Liderazgo' ? 'indigo' : 'slate'}>{m.ministry}</Badge>
                                        </td>
                                        <td className="p-5 text-right">
                                            <button className="text-slate-400 hover:text-indigo-600 transition-colors p-2 inline-flex">
                                                <Icons.ChevronRight width={20} />
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                        {filteredMembers.length === 0 && (
                            <div className="p-12 text-center">
                                <div className="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300">
                                    <Icons.Users width={32} />
                                </div>
                                <p className="text-slate-500 font-medium">No se encontraron miembros.</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const FinanceModule = ({ finances, setFinances }) => {
            const [showForm, setShowForm] = useState(false);
            const [entry, setEntry] = useState({ type: 'ingreso', amount: '', category: 'Diezmo', date: new Date().toISOString().split('T')[0] });
            const [filterType, setFilterType] = useState('all');

            const FilterChip = ({ label, active, onClick }) => (
                <button 
                    onClick={onClick}
                    className={`px-4 py-1.5 rounded-full text-sm font-bold transition-all border ${
                        active 
                            ? 'bg-indigo-600 text-white border-indigo-600 shadow-md' 
                            : 'bg-white text-slate-500 border-slate-200 hover:bg-slate-50'
                    }`}
                >
                    {label}
                </button>
            );

            const handleSave = () => {
                if (!entry.amount) return;
                setFinances([{ id: Date.now(), ...entry }, ...finances]);
                setEntry({ type: 'ingreso', amount: '', category: 'Diezmo', date: new Date().toISOString().split('T')[0] });
                setShowForm(false);
            };

            const filteredFinances = finances.filter(f => filterType === 'all' ? true : f.type === filterType);

            return (
                <div className="space-y-6">
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h2 className="text-2xl font-bold text-slate-800">Tesorer√≠a</h2>
                            <p className="text-slate-500 font-medium">Control de ingresos y egresos</p>
                        </div>
                        <div className="flex gap-2">
                             <Button variant="secondary" icon="Download" onClick={() => alert("Generando reporte PDF...")}>
                                Reporte
                            </Button>
                            <Button onClick={() => { setEntry({...entry, type: 'ingreso', category: 'Diezmo'}); setShowForm(true); }} variant="primary" icon="PlusCircle">
                                Registrar
                            </Button>
                        </div>
                    </div>

                    <div className="flex gap-2 overflow-x-auto pb-2 hide-scroll">
                        <FilterChip label="Todos" active={filterType === 'all'} onClick={() => setFilterType('all')} />
                        <FilterChip label="Ingresos" active={filterType === 'ingreso'} onClick={() => setFilterType('ingreso')} />
                        <FilterChip label="Gastos" active={filterType === 'gasto'} onClick={() => setFilterType('gasto')} />
                    </div>

                    {showForm && (
                        <Card className="bg-slate-50 border-slate-200 animate-slide-down relative">
                            <button onClick={() => setShowForm(false)} className="absolute top-4 right-4 text-slate-400 hover:text-slate-600"><Icons.X width={20}/></button>
                            <h3 className="font-bold text-slate-800 mb-6 text-lg">
                                 {entry.type === 'ingreso' ? 'Registrar Ingreso' : 'Registrar Gasto'}
                            </h3>
                            
                            <div className="flex gap-4 mb-6">
                                <button 
                                    onClick={() => setEntry({...entry, type: 'ingreso'})}
                                    className={`flex-1 py-2 rounded-lg font-bold text-sm border ${entry.type === 'ingreso' ? 'bg-emerald-50 border-emerald-200 text-emerald-700' : 'bg-white border-slate-200 text-slate-400'}`}
                                >
                                    Ingreso
                                </button>
                                <button 
                                    onClick={() => setEntry({...entry, type: 'gasto'})}
                                    className={`flex-1 py-2 rounded-lg font-bold text-sm border ${entry.type === 'gasto' ? 'bg-red-50 border-red-200 text-red-700' : 'bg-white border-slate-200 text-slate-400'}`}
                                >
                                    Gasto
                                </button>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <Input 
                                    label="Monto ($)" 
                                    type="number" 
                                    placeholder="0.00" 
                                    value={entry.amount}
                                    onChange={e => setEntry({...entry, amount: e.target.value})}
                                />
                                <Input 
                                    label="Fecha" 
                                    type="date" 
                                    value={entry.date}
                                    onChange={e => setEntry({...entry, date: e.target.value})}
                                />
                                <div className="md:col-span-2">
                                    <Select 
                                        label="Categor√≠a del movimiento"
                                        value={entry.category}
                                        onChange={e => setEntry({...entry, category: e.target.value})}
                                    >
                                        {entry.type === 'ingreso' ? (
                                            <>
                                                <option>Diezmo</option>
                                                <option>Ofrenda General</option>
                                                <option>Ofrenda Misiones</option>
                                                <option>Donaci√≥n Especial</option>
                                                <option>Venta de Recursos</option>
                                            </>
                                        ) : (
                                            <>
                                                <option>Servicios B√°sicos (Luz/Agua)</option>
                                                <option>Mantenimiento</option>
                                                <option>Ayuda Social</option>
                                                <option>Honorarios</option>
                                                <option>Papeler√≠a/Insumos</option>
                                            </>
                                        )}
                                    </Select>
                                </div>
                            </div>
                            <div className="flex gap-3 mt-6 justify-end">
                                <Button variant="secondary" onClick={() => setShowForm(false)}>Cancelar</Button>
                                <Button onClick={handleSave}>Guardar Movimiento</Button>
                            </div>
                        </Card>
                    )}

                    <div className="space-y-4">
                        {filteredFinances.map(t => (
                            <div key={t.id} className="bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center hover:shadow-md transition-all group">
                                <div className="flex items-center gap-4">
                                    <div className={`w-12 h-12 rounded-2xl flex items-center justify-center transition-colors ${t.type === 'ingreso' ? 'bg-emerald-100 text-emerald-600 group-hover:bg-emerald-200' : 'bg-red-100 text-red-600 group-hover:bg-red-200'}`}>
                                        {t.type === 'ingreso' ? <Icons.TrendingUp width={24} /> : <Icons.TrendingDown width={24} />}
                                    </div>
                                    <div>
                                        <p className="font-bold text-slate-800 text-base">{t.category}</p>
                                        <p className="text-xs text-slate-400 font-bold uppercase tracking-wider mt-0.5">
                                            {new Date(t.date).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
                                        </p>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <p className={`text-xl font-extrabold ${t.type === 'ingreso' ? 'text-emerald-600' : 'text-slate-700'}`}>
                                        {t.type === 'gasto' ? '-' : '+'}${Number(t.amount).toLocaleString()}
                                    </p>
                                    <Badge color={t.type === 'ingreso' ? 'emerald' : 'slate'}>{t.type}</Badge>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [isSidebarOpen, setSidebarOpen] = useState(false);
            const [loginMode, setLoginMode] = useState(false);

            const [members, setMembers] = useState([
                { id: 1, name: 'Carlos Gomez', phone: '555-0123', ministry: 'Liderazgo', status: 'active' },
                { id: 2, name: 'Ana Rodriguez', phone: '555-0987', ministry: 'Alabanza', status: 'active' },
                { id: 3, name: 'Miguel Silva', phone: '555-5678', ministry: 'Ujieres', status: 'active' },
            ]);

            const [finances, setFinances] = useState([
                { id: 1, type: 'ingreso', amount: 5000, category: 'Diezmo', date: '2023-10-20' },
                { id: 2, type: 'ingreso', amount: 1200, category: 'Ofrenda General', date: '2023-10-21' },
                { id: 3, type: 'gasto', amount: 800, category: 'Papeler√≠a/Insumos', date: '2023-10-22' },
                { id: 4, type: 'gasto', amount: 2500, category: 'Servicios B√°sicos (Luz/Agua)', date: '2023-10-23' },
            ]);

            const SidebarItem = ({ id, icon: IconName, label }) => {
                const Icon = Icons[IconName];
                return (
                    <button 
                        onClick={() => { setActiveTab(id); setSidebarOpen(false); }}
                        className={`w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold text-sm transition-all duration-200 ${
                            activeTab === id 
                                ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/50' 
                                : 'text-slate-400 hover:bg-slate-800 hover:text-white'
                        }`}
                    >
                        <Icon width={20} className={activeTab === id ? 'text-indigo-200' : 'text-slate-500 group-hover:text-white'} />
                        {label}
                    </button>
                );
            };

            if (loginMode) {
                return (
                    <div className="min-h-screen bg-slate-50 flex items-center justify-center p-4 font-sans">
                        <Card className="w-full max-w-md p-8 border-slate-200 shadow-xl">
                            <div className="text-center mb-8">
                                <div className="w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-3xl mx-auto flex items-center justify-center mb-6 shadow-lg shadow-indigo-200">
                                    <Icons.Lock width={32} />
                                </div>
                                <h2 className="text-2xl font-extrabold text-slate-800">Conquistadores</h2>
                                <p className="text-slate-500 font-medium">Acceso Administrativo</p>
                            </div>
                            <div className="space-y-6">
                                <Input label="Email" placeholder="ejemplo@iglesia.com" />
                                <Input label="Contrase√±a" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                                <Button className="w-full py-3 text-base shadow-xl shadow-indigo-200" onClick={() => setLoginMode(false)}>
                                    Ingresar
                                </Button>
                                <p className="text-xs text-center text-slate-400 mt-4">
                                    Sistema protegido. Contacte al administrador.
                                </p>
                            </div>
                        </Card>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-slate-50 flex text-slate-800 font-sans selection:bg-indigo-100 selection:text-indigo-700">
                    
                    {isSidebarOpen && (
                        <div 
                            className="fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm transition-opacity"
                            onClick={() => setSidebarOpen(false)}
                        />
                    )}

                    <aside className={`
                        fixed md:sticky top-0 h-screen w-72 bg-slate-900 text-white border-r border-slate-800 p-6 z-50 transition-transform duration-300 shadow-2xl
                        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}
                    `}>
                        <div className="flex items-center gap-3 mb-10 px-2 pt-2">
                            <div className="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-900/50">
                                <Icons.Users width={20} />
                            </div>
                            <div>
                                <h1 className="font-extrabold text-lg leading-tight tracking-tight text-white">Conquistadores</h1>
                                <p className="text-xs text-indigo-400 font-bold uppercase tracking-wider">Gesti√≥n Pro</p>
                            </div>
                        </div>

                        <nav className="space-y-2">
                            <p className="px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Men√∫ Principal</p>
                            <SidebarItem id="dashboard" icon="LayoutDashboard" label="Inicio" />
                            <SidebarItem id="members" icon="Users" label="Miembros" />
                            <SidebarItem id="finance" icon="Wallet" label="Tesorer√≠a" />
                            
                            <div className="pt-8 pb-2">
                                <p className="px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Cuenta</p>
                                <button 
                                    onClick={() => setLoginMode(true)}
                                    className="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl font-bold text-sm text-slate-400 hover:bg-red-500/10 hover:text-red-400 transition-colors group"
                                >
                                    <Icons.LogOut width={20} className="group-hover:text-red-400"/>
                                    Cerrar Sesi√≥n
                                </button>
                            </div>
                        </nav>

                        <div className="absolute bottom-6 left-6 right-6">
                            <div className="bg-slate-800/50 rounded-xl p-4 border border-slate-700 flex items-center gap-3">
                                <div className="w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-xs font-bold text-white">P</div>
                                <div className="overflow-hidden">
                                    <p className="text-sm font-bold text-white truncate">Pastor Principal</p>
                                    <p className="text-xs text-slate-400 truncate">admin@iglesia.com</p>
                                </div>
                            </div>
                        </div>
                    </aside>

                    <main className="flex-1 overflow-auto h-screen relative">
                        <header className="bg-white/90 backdrop-blur-md sticky top-0 z-30 border-b border-slate-200 px-6 py-4 flex justify-between items-center md:hidden">
                            <div className="font-bold text-slate-800 text-lg">Conquistadores</div>
                            <button onClick={() => setSidebarOpen(true)} className="p-2 text-slate-600 active:bg-slate-100 rounded-lg">
                                <Icons.Menu width={24} />
                            </button>
                        </header>

                        <div className="p-6 md:p-10 max-w-7xl mx-auto pb-32">
                            {activeTab === 'dashboard' && <Dashboard members={members} finances={finances} />}
                            {activeTab === 'members' && <MembersModule members={members} setMembers={setMembers} />}
                            {activeTab === 'finance' && <FinanceModule finances={finances} setFinances={setFinances} />}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
